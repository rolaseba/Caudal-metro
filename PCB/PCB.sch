EESchema Schematic File Version 2  date mi√© 25 may 2011 12:11:15 ART
LIBS:power
LIBS:device
LIBS:transistors
LIBS:conn
LIBS:linear
LIBS:regul
LIBS:74xx
LIBS:cmos4000
LIBS:adc-dac
LIBS:memory
LIBS:xilinx
LIBS:special
LIBS:microcontrollers
LIBS:dsp
LIBS:microchip
LIBS:analog_switches
LIBS:motorola
LIBS:texas
LIBS:intel
LIBS:audio
LIBS:interface
LIBS:digital-audio
LIBS:philips
LIBS:display
LIBS:cypress
LIBS:siliconi
LIBS:opto
LIBS:atmel
LIBS:contrib
LIBS:valves
LIBS:arduino_shieldsNCL
LIBS:display-lcd-lxd
LIBS:display-lcd
LIBS:Carlolib-dev
LIBS:mi-libreria
LIBS:transistor
LIBS:1wire
LIBS:PCB-cache
EELAYER 25  0
EELAYER END
$Descr A3 16535 11700
Sheet 1 1
Title "Shiel Control de Caudal"
Date "25 may 2011"
Rev "1"
Comp "Rolando - Trellini"
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Connection ~ 9050 6100
Wire Wire Line
	9050 6150 9050 6050
Wire Wire Line
	9050 6150 9150 6150
Wire Wire Line
	12950 4950 12800 4950
Wire Wire Line
	12800 4950 12800 4700
Wire Wire Line
	5200 4200 5200 7800
Wire Wire Line
	5200 7800 9150 7800
Wire Wire Line
	11050 5850 11500 5850
Connection ~ 4950 3600
Wire Wire Line
	5300 3600 4950 3600
Wire Notes Line
	11000 4750 11100 4750
Wire Notes Line
	11100 4750 11100 4550
Wire Notes Line
	11100 4550 11000 4550
Wire Wire Line
	9050 3800 9050 3900
Wire Wire Line
	9050 3900 9150 3900
Wire Wire Line
	11050 4500 12800 4500
Wire Wire Line
	12100 3600 11050 3600
Wire Wire Line
	11050 4400 11500 4400
Wire Wire Line
	11500 4400 11500 2250
Wire Wire Line
	11500 2250 7250 2250
Wire Wire Line
	7250 2250 7250 5000
Wire Wire Line
	7250 5000 3900 5000
Wire Wire Line
	3900 5000 3900 3000
Wire Wire Line
	3900 3000 4650 3000
Wire Wire Line
	4650 3000 4650 2750
Wire Wire Line
	11050 4300 11450 4300
Wire Wire Line
	11450 4300 11450 2300
Wire Wire Line
	11450 2300 7300 2300
Wire Wire Line
	7300 2300 7300 5050
Wire Wire Line
	7300 5050 3850 5050
Wire Wire Line
	3850 5050 3850 2950
Wire Wire Line
	3850 2950 4500 2950
Wire Wire Line
	4500 2950 4500 2750
Wire Wire Line
	11050 3500 11350 3500
Wire Wire Line
	11350 3500 11350 2400
Wire Wire Line
	11350 2400 7400 2400
Wire Wire Line
	7400 2400 7400 5150
Wire Wire Line
	7400 5150 3600 5150
Wire Wire Line
	3600 5150 3600 2750
Wire Wire Line
	13050 3900 13050 4000
Wire Wire Line
	5400 4000 5550 4000
Wire Wire Line
	4350 4000 4350 3850
Wire Wire Line
	11050 7150 12050 7150
Wire Wire Line
	12050 7150 12050 8550
Wire Wire Line
	12050 8550 7150 8550
Wire Wire Line
	7150 8550 7150 5350
Wire Wire Line
	7150 5350 6650 5350
Wire Wire Line
	2250 3500 2250 3700
Wire Wire Line
	2250 3000 2250 2500
Wire Wire Line
	2850 2750 2850 2950
Wire Wire Line
	8300 4200 9150 4200
Connection ~ 8150 3700
Wire Wire Line
	8150 3950 8150 3650
Wire Wire Line
	11050 7550 11850 7550
Wire Wire Line
	11850 7550 11850 8350
Wire Wire Line
	11850 8350 7550 8350
Wire Wire Line
	7550 8350 7550 5750
Wire Wire Line
	7550 5750 6650 5750
Wire Wire Line
	9150 7700 7900 7700
Wire Wire Line
	7900 7700 7900 6150
Wire Wire Line
	7900 6150 7000 6150
Wire Wire Line
	6050 5350 6150 5350
Wire Wire Line
	6050 5750 6150 5750
Wire Wire Line
	6050 6150 6500 6150
Wire Wire Line
	9150 7250 8350 7250
Wire Wire Line
	8350 7250 8350 5450
Wire Wire Line
	8350 5450 6050 5450
Wire Wire Line
	9150 6400 8950 6400
Wire Wire Line
	8950 6400 8950 6350
Wire Wire Line
	8950 6350 6050 6350
Wire Wire Line
	9150 6600 8150 6600
Wire Wire Line
	8150 6600 8150 6050
Wire Wire Line
	8150 6050 6050 6050
Wire Wire Line
	6050 5850 8700 5850
Wire Wire Line
	8700 5850 8700 6850
Wire Wire Line
	8700 6850 9150 6850
Wire Wire Line
	6050 5650 8500 5650
Wire Wire Line
	8500 5650 8500 7050
Wire Wire Line
	8500 7050 9150 7050
Wire Wire Line
	6050 6250 6150 6250
Wire Wire Line
	6050 5950 6150 5950
Wire Wire Line
	6050 5550 6150 5550
Wire Wire Line
	6650 6250 8000 6250
Wire Wire Line
	8000 6250 8000 7450
Wire Wire Line
	8000 7450 9150 7450
Wire Wire Line
	6650 5950 7750 5950
Wire Wire Line
	7750 5950 7750 7900
Wire Wire Line
	7750 7900 9150 7900
Wire Wire Line
	11050 7350 11950 7350
Wire Wire Line
	11950 7350 11950 8450
Wire Wire Line
	11950 8450 7350 8450
Wire Wire Line
	7350 8450 7350 5550
Wire Wire Line
	7350 5550 6650 5550
Wire Wire Line
	9150 3700 8150 3700
Wire Wire Line
	8150 4450 8150 4600
Wire Wire Line
	2400 3250 3150 3250
Wire Wire Line
	3150 3250 3150 2750
Wire Wire Line
	3000 2750 3000 3100
Wire Wire Line
	3000 3100 2450 3100
Wire Wire Line
	2450 3100 2450 2850
Wire Wire Line
	2450 2850 2250 2850
Connection ~ 2250 2850
Wire Wire Line
	5100 2750 5100 3050
Wire Wire Line
	4950 2900 4950 2750
Wire Wire Line
	5000 4000 4850 4000
Connection ~ 4950 4000
Wire Wire Line
	6050 4000 6250 4000
Wire Wire Line
	6250 4000 6250 4050
Wire Wire Line
	12900 3700 12900 4000
Wire Wire Line
	12900 4000 13050 4000
Wire Wire Line
	3300 2750 3300 5200
Wire Wire Line
	3300 5200 7450 5200
Wire Wire Line
	7450 5200 7450 2450
Wire Wire Line
	7450 2450 11300 2450
Wire Wire Line
	11300 2450 11300 3400
Wire Wire Line
	11300 3400 11050 3400
Wire Wire Line
	4350 2750 4350 2900
Wire Wire Line
	4350 2900 3800 2900
Wire Wire Line
	3800 2900 3800 5100
Wire Wire Line
	3800 5100 7350 5100
Wire Wire Line
	7350 5100 7350 2350
Wire Wire Line
	7350 2350 11400 2350
Wire Wire Line
	11400 2350 11400 4200
Wire Wire Line
	11400 4200 11050 4200
Wire Wire Line
	4800 2750 4800 3050
Wire Wire Line
	4800 3050 3950 3050
Wire Wire Line
	3950 3050 3950 4950
Wire Wire Line
	3950 4950 7200 4950
Wire Wire Line
	7200 4950 7200 2200
Wire Wire Line
	7200 2200 11550 2200
Wire Wire Line
	11550 2200 11550 4000
Wire Wire Line
	11550 4000 11050 4000
Wire Wire Line
	12600 3600 12900 3600
Wire Notes Line
	12100 4450 12150 4450
Wire Notes Line
	12150 4450 12150 4400
Wire Notes Line
	12150 4400 12250 4400
Wire Notes Line
	12250 4400 12250 4450
Wire Notes Line
	12250 4450 12350 4450
Wire Notes Line
	12350 4450 12350 4400
Wire Notes Line
	12350 4400 12450 4400
Wire Notes Line
	12450 4400 12450 4450
Wire Notes Line
	12450 4450 12550 4450
Wire Notes Line
	12550 4450 12550 4400
Wire Notes Line
	12550 4400 12650 4400
Wire Notes Line
	12650 4400 12650 4450
Wire Wire Line
	8800 3850 8800 3800
Wire Wire Line
	8800 3800 9150 3800
Connection ~ 9050 3800
Wire Wire Line
	9050 6050 9150 6050
Wire Wire Line
	10900 2900 10900 2700
Wire Wire Line
	10900 2700 11150 2700
Wire Wire Line
	11150 2700 11150 3200
Wire Wire Line
	11150 3200 11050 3200
Wire Wire Line
	4950 3400 4950 4000
Wire Wire Line
	5500 3600 5950 3600
Wire Wire Line
	5950 3600 5950 3150
Wire Wire Line
	9050 6100 8900 6100
Wire Wire Line
	8900 6100 8900 6150
Wire Wire Line
	12900 3500 12900 3250
Wire Wire Line
	12900 3250 13050 3250
Wire Wire Line
	13050 3250 13050 3300
Wire Wire Line
	12800 4600 12300 4600
Wire Wire Line
	12300 4600 12300 4750
Wire Wire Line
	11050 5950 11200 5950
Wire Wire Line
	11200 5950 11200 5850
Connection ~ 11200 5850
$Comp
L +5V #PWR01
U 1 1 4DDC0E76
P 11500 5850
F 0 "#PWR01" H 11500 5940 20  0001 C CNN
F 1 "+5V" H 11500 5940 30  0000 C CNN
	1    11500 5850
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR02
U 1 1 4DDAA96B
P 12950 4950
F 0 "#PWR02" H 12950 5040 20  0001 C CNN
F 1 "+5V" H 12950 5040 30  0000 C CNN
	1    12950 4950
	1    0    0    -1  
$EndComp
$Comp
L +5V #PWR03
U 1 1 4DD6C079
P 13050 3900
F 0 "#PWR03" H 13050 3990 20  0001 C CNN
F 1 "+5V" H 13050 3990 30  0000 C CNN
	1    13050 3900
	1    0    0    -1  
$EndComp
Text Notes 2850 1850 0    60   ~ 0
Comprobar esos 5 pines que no se conectan
NoConn ~ 4200 2750
NoConn ~ 4050 2750
NoConn ~ 3900 2750
NoConn ~ 3750 2750
NoConn ~ 3450 2750
$Comp
L +5V #PWR04
U 1 1 4DDC0F9F
P 5950 3150
F 0 "#PWR04" H 5950 3240 20  0001 C CNN
F 1 "+5V" H 5950 3240 30  0000 C CNN
	1    5950 3150
	1    0    0    -1  
$EndComp
$Comp
L CONN_2 P1
U 1 1 4DDC0F4D
P 5400 3250
F 0 "P1" V 5350 3250 40  0000 C CNN
F 1 "back +5V" V 5550 3250 40  0000 C CNN
	1    5400 3250
	0    -1   -1   0   
$EndComp
$Comp
L BC548C-NPN-TO92-EBC T1
U 1 1 4DD6BA68
P 5200 4100
F 0 "T1" V 5150 3900 50  0000 L BNN
F 1 "BC548C-NPN-TO92-EBC" V 4950 3650 50  0000 L BNN
F 2 "transistor-TO92-EBC" H 5200 4250 50  0001 C CNN
	1    5200 4100
	0    -1   -1   0   
$EndComp
NoConn ~ 11050 4100
NoConn ~ 11050 3700
NoConn ~ 11050 3100
$Comp
L GND #PWR05
U 1 1 4DDC0D86
P 10900 2900
F 0 "#PWR05" H 10900 2900 30  0001 C CNN
F 1 "GND" H 10900 2830 30  0001 C CNN
	1    10900 2900
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR06
U 1 1 4DDC0D7C
P 8900 6150
F 0 "#PWR06" H 8900 6150 30  0001 C CNN
F 1 "GND" H 8900 6080 30  0001 C CNN
	1    8900 6150
	1    0    0    -1  
$EndComp
NoConn ~ 11050 4700
NoConn ~ 11050 4600
NoConn ~ 11050 3300
NoConn ~ 11050 3800
Text Notes 11150 4700 0    60   ~ 0
A PC por USB
NoConn ~ 11050 4900
NoConn ~ 11050 5000
NoConn ~ 11050 5100
NoConn ~ 11050 5200
NoConn ~ 11050 5300
NoConn ~ 11050 5400
NoConn ~ 11050 5500
NoConn ~ 11050 5600
NoConn ~ 11050 6100
NoConn ~ 11050 6200
NoConn ~ 11050 6300
NoConn ~ 11050 6400
NoConn ~ 11050 6500
NoConn ~ 11050 6600
NoConn ~ 11050 6700
NoConn ~ 11050 6800
NoConn ~ 11050 6950
NoConn ~ 11050 7050
NoConn ~ 11050 7250
NoConn ~ 11050 7450
NoConn ~ 11050 7650
NoConn ~ 9150 7600
NoConn ~ 9150 7350
NoConn ~ 9150 7150
NoConn ~ 9150 6950
NoConn ~ 9150 6750
NoConn ~ 9150 6500
NoConn ~ 9150 6300
NoConn ~ 9150 5800
NoConn ~ 9150 5700
NoConn ~ 9150 5600
NoConn ~ 9150 5500
NoConn ~ 9150 5400
NoConn ~ 9150 5300
NoConn ~ 9150 5200
NoConn ~ 9150 5100
NoConn ~ 9150 4900
NoConn ~ 9150 4800
NoConn ~ 9150 4700
NoConn ~ 9150 4600
NoConn ~ 9150 4500
NoConn ~ 9150 4400
NoConn ~ 9150 4300
$Comp
L GND #PWR07
U 1 1 4DDAAAE6
P 8800 3850
F 0 "#PWR07" H 8800 3850 30  0001 C CNN
F 1 "GND" H 8800 3780 30  0001 C CNN
	1    8800 3850
	1    0    0    -1  
$EndComp
NoConn ~ 9150 3600
NoConn ~ 9150 3500
$Comp
L GND #PWR08
U 1 1 4DDAA970
P 12300 4750
F 0 "#PWR08" H 12300 4750 30  0001 C CNN
F 1 "GND" H 12300 4680 30  0001 C CNN
	1    12300 4750
	1    0    0    -1  
$EndComp
$Comp
L HALL U2
U 1 1 4DDAA946
P 13150 4600
F 0 "U2" V 13200 5000 60  0000 C CNN
F 1 "HALL" V 12950 4800 60  0000 C CNN
	1    13150 4600
	0    1    1    0   
$EndComp
$Comp
L R R10
U 1 1 4DD837B5
P 12350 3600
F 0 "R10" V 12430 3600 50  0000 C CNN
F 1 "4,7k" V 12350 3600 50  0000 C CNN
	1    12350 3600
	0    1    1    0   
$EndComp
NoConn ~ 9150 4000
Text Notes 13300 3250 0    60   ~ 0
ver si se puede evitar la alimentaci√≥n (es 1 wire)
$Comp
L DS1820 U3
U 1 1 4DD6C842
P 13400 3600
F 0 "U3" V 13650 3800 60  0000 C CNN
F 1 "DS1820" V 13200 3800 60  0000 C CNN
	1    13400 3600
	0    1    1    0   
$EndComp
$Comp
L GND #PWR09
U 1 1 4DD6C07B
P 13050 3300
F 0 "#PWR09" H 13050 3300 30  0001 C CNN
F 1 "GND" H 13050 3230 30  0001 C CNN
	1    13050 3300
	1    0    0    -1  
$EndComp
Text Notes 5050 3750 0    60   ~ 0
Elijo ON/OFF backligth transistor o +5V\nSi puenteo directo no sueldo R1 ni T1
$Comp
L GND #PWR010
U 1 1 4DD6BB76
P 6250 4050
F 0 "#PWR010" H 6250 4050 30  0001 C CNN
F 1 "GND" H 6250 3980 30  0001 C CNN
	1    6250 4050
	1    0    0    -1  
$EndComp
$Comp
L R R3
U 1 1 4DD6BB32
P 5800 4000
F 0 "R3" V 5880 4000 50  0000 C CNN
F 1 "R" V 5800 4000 50  0000 C CNN
	1    5800 4000
	0    1    1    0   
$EndComp
$Comp
L R R1
U 1 1 4DD6BB29
P 4600 4000
F 0 "R1" V 4680 4000 50  0000 C CNN
F 1 "R" V 4600 4000 50  0000 C CNN
	1    4600 4000
	0    1    1    0   
$EndComp
$Comp
L +5V #PWR011
U 1 1 4DD6B81D
P 4350 3850
F 0 "#PWR011" H 4350 3940 20  0001 C CNN
F 1 "+5V" H 4350 3940 30  0000 C CNN
	1    4350 3850
	1    0    0    -1  
$EndComp
$Comp
L R R2
U 1 1 4DD6B631
P 4950 3150
F 0 "R2" V 5030 3150 50  0000 C CNN
F 1 "R" V 4950 3150 50  0000 C CNN
	1    4950 3150
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR012
U 1 1 4DD6B3E9
P 5100 3050
F 0 "#PWR012" H 5100 3050 30  0001 C CNN
F 1 "GND" H 5100 2980 30  0001 C CNN
	1    5100 3050
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR013
U 1 1 4DD6B325
P 2250 3700
F 0 "#PWR013" H 2250 3700 30  0001 C CNN
F 1 "GND" H 2250 3630 30  0001 C CNN
	1    2250 3700
	1    0    0    -1  
$EndComp
$Comp
L POT RV1
U 1 1 4DD6B2EE
P 2250 3250
F 0 "RV1" H 2250 3150 50  0000 C CNN
F 1 "preset" H 2250 3250 50  0000 C CNN
	1    2250 3250
	0    1    1    0   
$EndComp
$Comp
L +5V #PWR014
U 1 1 4DD5E415
P 2250 2500
F 0 "#PWR014" H 2250 2590 20  0001 C CNN
F 1 "+5V" H 2250 2590 30  0000 C CNN
	1    2250 2500
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR015
U 1 1 4DD5E3F1
P 2850 2950
F 0 "#PWR015" H 2850 2950 30  0001 C CNN
F 1 "GND" H 2850 2880 30  0001 C CNN
	1    2850 2950
	1    0    0    -1  
$EndComp
Text Notes 1050 900  0    100  ~ 0
+5V viene de la placa con el micro (usb o conector). \nEsta placa no se alimenta, se cuelga de la otra.
$Comp
L +5V #PWR016
U 1 1 4DD5E2E6
P 8150 3650
F 0 "#PWR016" H 8150 3740 20  0001 C CNN
F 1 "+5V" H 8150 3740 30  0000 C CNN
	1    8150 3650
	1    0    0    -1  
$EndComp
$Comp
L GND #PWR017
U 1 1 4DD5E2A9
P 8150 4600
F 0 "#PWR017" H 8150 4600 30  0001 C CNN
F 1 "GND" H 8150 4530 30  0001 C CNN
	1    8150 4600
	1    0    0    -1  
$EndComp
$Comp
L POT RV2
U 1 1 4DD5E1F3
P 8150 4200
F 0 "RV2" H 8150 4100 50  0000 C CNN
F 1 "Nivel" H 8150 4200 50  0000 C CNN
	1    8150 4200
	0    1    1    0   
$EndComp
$Comp
L R R4
U 1 1 4DD5E0AB
P 6400 5350
F 0 "R4" V 6480 5350 50  0000 C CNN
F 1 "R" V 6400 5350 50  0000 C CNN
	1    6400 5350
	0    1    1    0   
$EndComp
$Comp
L R R5
U 1 1 4DD5E0A5
P 6400 5550
F 0 "R5" V 6480 5550 50  0000 C CNN
F 1 "R" V 6400 5550 50  0000 C CNN
	1    6400 5550
	0    1    1    0   
$EndComp
$Comp
L R R6
U 1 1 4DD5E0A1
P 6400 5750
F 0 "R6" V 6480 5750 50  0000 C CNN
F 1 "R" V 6400 5750 50  0000 C CNN
	1    6400 5750
	0    1    1    0   
$EndComp
$Comp
L R R7
U 1 1 4DD5E097
P 6400 5950
F 0 "R7" V 6480 5950 50  0000 C CNN
F 1 "R" V 6400 5950 50  0000 C CNN
	1    6400 5950
	0    1    1    0   
$EndComp
$Comp
L R R9
U 1 1 4DD5E085
P 6750 6150
F 0 "R9" V 6830 6150 50  0000 C CNN
F 1 "R" V 6750 6150 50  0000 C CNN
	1    6750 6150
	0    1    1    0   
$EndComp
$Comp
L R R8
U 1 1 4DD5E070
P 6400 6250
F 0 "R8" V 6480 6250 50  0000 C CNN
F 1 "R" V 6400 6250 50  0000 C CNN
	1    6400 6250
	0    1    1    0   
$EndComp
$Comp
L CONN_11 keypad1
U 1 1 4DD5DF03
P 5700 5850
F 0 "keypad1" V 5650 5850 60  0000 C CNN
F 1 "CONN_11" V 5750 5850 60  0000 C CNN
	1    5700 5850
	-1   0    0    1   
$EndComp
$Comp
L LCD_HD44870 U1
U 1 1 4DD5A65E
P 3950 2450
F 0 "U1" H 4300 2900 60  0000 C CNN
F 1 "LCD_HD44870" H 3100 2900 60  0000 C CNN
	1    3950 2450
	1    0    0    -1  
$EndComp
$Comp
L ARDUINO_MEGA_SHIELD SHIELD1
U 1 1 4DD58B14
P 10150 5450
F 0 "SHIELD1" H 9750 7950 60  0000 C CNN
F 1 "ARDUINO_MEGA_SHIELD" H 10050 2750 60  0000 C CNN
	1    10150 5450
	1    0    0    -1  
$EndComp
$EndSCHEMATC
